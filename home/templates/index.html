{% extends "utils/base.html" %}
{% block start %}

<div class="container mt-5 pt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card shadow-sm border-0 p-3">
        <form class="row g-2 align-items-center">

          <div class="col-md-5">
            <input type="text" name="search" class="form-control" placeholder="Search hotels, city, location">
          </div>

          <div class="col-md-4">
            <select class="form-select" name="sort_by">
              <option value="">Sort by</option>
              <option value="sort_low">Price: Low to High</option>
              <option value="sort_high">Price: High to Low</option>
            </select>
          </div>

          <div class="col-md-3 d-grid">
            <button type="submit" class="btn btn-warning fw-semibold">
              üîç Search
            </button>
          </div>

        </form>
      </div>
    </div>
  </div>
</div>


<div class="container mt-4">
  <div class="row">

    {% for hotel in hotels %}
    <div class="col-lg-3 col-md-4 col-sm-6 mb-4">

      <a href="{% url 'hotel_details' hotel.hotel_slug %}" class="text-decoration-none text-dark">

        <div class="card h-100 shadow-sm border-0">

          {% if hotel.hotel_images.first %}
            <img src="/media/{{ hotel.hotel_images.first.image }}"
                 class="card-img-top"
                 style="height: 180px; object-fit: cover;">
          {% else %}
            <img src="https://t4.ftcdn.net/jpg/04/70/29/97/360_F_470299797_UD0eoVMMSUbHCcNJCdv2t8B2g1GVqYgs.jpg"
                 class="card-img-top"
                 style="height: 180px; object-fit: cover;">
          {% endif %}

          <div class="card-body d-flex flex-column">

            <h5 class="fw-semibold mb-1">{{ hotel.hotel_name }}</h5>
            <small class="text-muted">{{ hotel.hotel_location }}</small>

            <!-- Amenities -->
            <div class="mt-2">
              {% for amenity in hotel.ameneties.all %}
                <span class="badge bg-secondary">{{ amenity.name }}</span>
              {% endfor %}
            </div>

            <!-- Price -->
            <div class="mt-auto pt-3">
              <small class="text-muted text-decoration-line-through">
                ‚Çπ{{ hotel.hotel_price }}
              </small>
              <div class="fs-5 fw-bold text-success">
                ‚Çπ{{ hotel.hotel_offer_price }}
              </div>
              <small class="text-muted">per night</small>
            </div>

          </div>
        </div>

      </a>
    </div>
    {% endfor %}

  </div>
</div>

{% endblock %}
